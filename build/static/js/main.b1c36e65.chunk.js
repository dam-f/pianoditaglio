(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(3),o=t.n(r),c=(t(9),t(1));var i=function(e){return n.a.createElement("div",{className:"bb b--black-30 pl3 flex justify-between pr3 items-center"},n.a.createElement("p",null,"- ",n.a.createElement("strong",null,e.numStecche)," stecche da"," ",n.a.createElement("strong",null,e.misuraStecca)," cm"),n.a.createElement("small",{className:""},n.a.createElement("input",{className:"",type:"button",value:"elimina"})))};function s(e){return n.a.createElement(i,{numStecche:e[0],misuraStecca:e[1]})}var m=function(e){return e.ordine&&e.ordine.length>0?n.a.createElement("div",{className:"bg-white pa2 br4 pb4 bb bw2"},e.ordine.map(s)):n.a.createElement("div",null)};var u=function(e){return n.a.createElement("div",{className:"bb b--black-30 pl3 flex justify-between pr3 items-center"},n.a.createElement("p",null,"- ",n.a.createElement("strong",null,e.combPiano[0])," barre tagliate cos\xec:"," ",n.a.createElement("strong",null,e.combPiano[2].join(", ")),n.a.createElement("br",null),"(scarto ",Math.round(100*e.combPiano[4]+Number.EPSILON)/100," ","cm)"))};var b=function(e){let a=e.profilo,t=0;if("AL/1"===a?t=50:"AC/6"===a?t=10:"AL/2HD"===a?t=15:"AL/2"===a&&(t=30),e.piano){const a=e.piano,l=a[0][1],r=(a[0][3],Math.floor(l/t)),o=l%t,c=a[0][4];let i=a.slice(0);return i.shift(),i.pop(),i.pop(),n.a.createElement("div",null,n.a.createElement("div",{className:"bg-white pa2 br4 pb4 bb bw2"},n.a.createElement("p",{className:"tc bb b--black-30"},"BARRE NECESSARIE: ",n.a.createElement("strong",null,l)," (",n.a.createElement("strong",null,r)," pacchi e"," ",n.a.createElement("strong",null,o)," stecche) - Modalit\xe0: ",n.a.createElement("strong",null,c),n.a.createElement("br",null),n.a.createElement("br",null)),i.map(function(e){return n.a.createElement(u,{combPiano:e})}),"string"===typeof a[a.length-2]&&n.a.createElement("p",{className:"bb b--black-30 pl3 pr3"},"Poi, cerca tra gli sfridi qualcosa per tagliare ancora queste stecche:",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("strong",null,a[a.length-1].flat().join(" ")),n.a.createElement("br",null),n.a.createElement("br",null))),n.a.createElement("p",null))}return n.a.createElement("div",null)};var p=function(){const e=Object(l.useState)({steccheCorrente:"",misuraCorrente:""}),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(l.useState)([]),i=Object(c.a)(o,2),s=i[0],u=i[1],p=Object(l.useState)(),E=Object(c.a)(p,2),d=E[0],g=E[1],f=Object(l.useState)([]),h=Object(c.a)(f,2),S=(h[0],h[1],Object(l.useState)("AL/1")),v=Object(c.a)(S,2),N=v[0],z=v[1],w=Object(l.useState)({maxScarto:25,minSfrido:65,larghezzaLama:.5,mode:"menoScarto"}),L=Object(c.a)(w,2),A=L[0],C=L[1],O=Object(l.useState)("Criteri da usare per il calcolo del piano"),x=Object(c.a)(O,2),k=x[0],M=x[1],j=Object(l.useState)([]),P=Object(c.a)(j,2),R=P[0],I=P[1];function y(e){const a=e.target.value,t=e.target.name;C(e=>"opzioneScarto"===t?{maxScarto:a,minSfrido:e.minSfrido,larghezzaLama:e.larghezzaLama,mode:e.mode}:"opzioneSfrido"===t?{maxScarto:e.maxScarto,minSfrido:a,larghezzaLama:e.larghezzaLama,mode:e.mode}:"opzioneLama"===t?{maxScarto:e.maxScarto,minSfrido:e.minSfrido,larghezzaLama:a,mode:e.mode}:void 0)}function B(e){const a=e.target.value,t=e.target.name;r(e=>"numStecche"===t?{steccheCorrente:a,misuraCorrente:e.misuraCorrente}:"misura"===t?{steccheCorrente:e.steccheCorrente,misuraCorrente:a}:void 0)}return n.a.createElement("div",{className:"flex flex-wrap"},n.a.createElement("div",{className:"min-vh-100-l bg-gray pt2 fl w-100-ns w-100-m w-40-l"},n.a.createElement("h1",{className:"pl2 pa1 bg-gold w-100"},"ORDINE"),n.a.createElement("div",{className:"pa3"},n.a.createElement("form",{className:"bg- br3 flex items-end pa2\r "},n.a.createElement("label",{className:"mr2"},n.a.createElement("strong",null,"N. stecche"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",type:"number",id:"numStecche",name:"numStecche",value:t.steccheCorrente,onChange:B})),n.a.createElement("label",{className:"mr2"},n.a.createElement("strong",null,"Misura taglio"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",type:"number",id:"misura",name:"misura",value:t.misuraCorrente,onChange:B})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{className:"input-reset bg-blue white b ba b--black-20 pa2 mb2 db w-100",type:"submit",value:"Aggiungi",onClick:function(e){e.preventDefault(),u(e=>t.steccheCorrente&&t.misuraCorrente&&t.steccheCorrente>0&&t.misuraCorrente>0?[...e,[Number(t.steccheCorrente),Number(t.misuraCorrente)]]:e),r({steccheCorrente:"",misuraCorrente:""})}}))),n.a.createElement("br",null),n.a.createElement("div",{className:"pa2 br4"},n.a.createElement(m,{ordine:s})))),n.a.createElement("div",{className:"bg-blue pt2 fl w-100-ns w-100-m w-20-l"},n.a.createElement("h1",{className:"pl2 pa1 bg-gold w-100"},"OPZIONI"),n.a.createElement("div",{className:"flex items-start flex-wrap pa3"},n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"MODALIT\xc0"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("fieldset",{className:"input-reset bw0 pa0 w-100",onChange:function(e){const a=e.target.value;C(e=>({maxScarto:e.maxScarto,minSfrido:e.minSfrido,larghezzaLama:e.larghezzaLama,mode:a})),"menoBarre"===a?(M("Usa meno barre possibili senza preoccuparsi dello scarto"),C(e=>({maxScarto:650,minSfrido:0,larghezzaLama:e.larghezzaLama,mode:a}))):"acra"===a?(M("Calcola solo le barre necessarie senza creare combinazioni di misura sulla stessa barra"),C(e=>({maxScarto:30,minSfrido:65,larghezzaLama:e.larghezzaLama,mode:a}))):"menoScarto"===a&&(M("Crea un piano di taglio che produca il minor scarto possibile"),C(e=>({maxScarto:25,minSfrido:65,larghezzaLama:e.larghezzaLama,mode:a})))}},n.a.createElement("select",{name:"mode",className:"input-reset ba b--black-20 pa2 mb2 db w-100"},n.a.createElement("option",{value:"menoScarto",selected:"selected"},"Scarto minore"),n.a.createElement("option",{value:"menoBarre"},"Meno barre"),n.a.createElement("option",{value:"acra"},"Acra"))),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},k)),n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"PROFILO"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("fieldset",{className:"input-reset bw0 pa0 w-100",onChange:function(e){const a=e.target.value;"AL/1"===a?z("AL/1"):"AC/6"===a?z("AC/6"):"AL/2HD"===a?z("AL/2HD"):"AL/2"===a&&z("AL/2")}},n.a.createElement("select",{name:"profilo",className:"input-reset ba b--black-20 pa2 mb2 db w-100"},n.a.createElement("option",{value:"AL/1",selected:"selected"},"AL/1"),n.a.createElement("option",{value:"AC/6"},"AC/6"),n.a.createElement("option",{value:"AL/2HD"},"AL/2 HD"),n.a.createElement("option",{value:"AL/2"},"AL/2"))),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},"Info usata per calcolare il numero dei pacchi necessari.")),n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"SCARTO MAX"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",name:"opzioneScarto",type:"number",value:A.maxScarto,onChange:y}),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},"Lunghezza massimo scarto")),n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"SCARTO MIN"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",name:"opzioneSfrido",type:"number",value:A.minSfrido,onChange:y}),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},"Lunghezza minima sfrido")),n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"LAMA"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100",name:"opzioneLama",type:"number",value:A.larghezzaLama,onChange:y}),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},"Larghezza lama (imposta 0.5 per alluminio, 0.2 per acciaio):")),n.a.createElement("label",{className:"w-third pa2"},n.a.createElement("strong",null,"DEBUG"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("fieldset",{className:"input-reset bw0 pa0 w-100",onChange:function(e){const a=e.target.value;"sample1"===a?(u([[182,199.2],[699,139.2],[235,119.2],[156,109.2],[273,89.2]]),I(n.a.createElement("div",{className:"h1 green"},n.a.createElement("strong",{className:"tc black"},"REFERENCE SAMPLE 1 - versione 0.3 - 18.929 iterazioni"),n.a.createElement("p",null),n.a.createElement("p",null,n.a.createElement(b,{piano:[["Barre utilizzate: ",317,"Scarto totale: ",3413.6000000000013,"Meno scarto possibile"],[91,"barre tagliate cos\xec: ",[199.2,199.2,139.2,109.2]," con scarto: ",3.2000000000000455],[152,"barre tagliate cos\xec: ",[139.2,139.2,139.2,139.2,89.2]," con scarto: ",4],[60,"barre tagliate cos\xec: ",[119.2,119.2,119.2,109.2,89.2,89.2]," con scarto: ",4.7999999999999545],[2,"barre tagliate cos\xec: ",[119.2,119.2,119.2,109.2,109.2]," con scarto: ",74],[12,"barre tagliate cos\xec: ",[119.2,119.2,119.2,119.2]," con scarto: ",173.2],"(SOLUZ. TEMPORANEA) Infine taglia queste stecche dagli sfridi o da una nuova barra (se sono molte puoi calcolare un nuovo piano di taglio) :",[["-",1,"x",89.2],["-",1,"x",109.2],["-",3,"x",119.2]]],profilo:"AL/1",mode:"menoScarto"}))))):"sample2"===a?(u([[48,196.7],[32,135.8],[37,81.2],[48,68.2],[32,62.2],[37,48.7]]),I(n.a.createElement("div",{className:"h1 green"},n.a.createElement("strong",{className:"tc black"},"REFERENCE SAMPLE 2 - versione 0.3 - 8.940.344 iterazioni"),n.a.createElement("p",null),n.a.createElement("p",null,n.a.createElement(b,{piano:[["Barre utilizzate: ",35,"Scarto totale: ",118.59999999999741,"Meno scarto possibile"],[16,"barre tagliate cos\xec: ",[196.7,135.8,135.8,62.2,48.7,68.2]," con scarto: ",2.599999999999909],[10,"barre tagliate cos\xec: ",[196.7,196.7,68.2,68.2,48.7,68.2]," con scarto: ",3.2999999999999545],[8,"barre tagliate cos\xec: ",[81.2,81.2,196.7,81.2,62.2,62.2,81.2]," con scarto: ",4.099999999999909],[1,"barre tagliate cos\xec: ",[196.7,196.7,48.7,196.7]," con scarto: ",11.200000000000045],[0,"barre tagliate cos\xec: ",[81.2,81.2,81.2,81.2,81.2,48.7,48.7,48.7,81.2]," con scarto: ",16.699999999999932],[0,"barre tagliate cos\xec: ",[48.7,48.7,48.7,48.7,48.7,48.7,48.7,48.7,48.7,48.7,48.7]," con scarto: ",114.30000000000007],"(SOLUZ. TEMPORANEA) Infine taglia queste stecche dagli sfridi o da una nuova barra (se sono molte puoi calcolare un nuovo piano di taglio) :",[["-",1,"x",68.2],["-",2,"x",196.7],["-",1,"x",81.2],["-",1,"x",48.7]]],profilo:"AL/1",mode:"menoScarto"}))))):"sample3"===a?(u([[182,199.2],[699,139.2],[235,119.2],[156,109.2],[273,89.2],[159,50],[200,35.1]]),I(n.a.createElement("div",{className:"h1 green"},n.a.createElement("strong",{className:"tc black"},"REFERENCE STRESS TEST - versione 0.3 - 35.697.301 iterazioni"),n.a.createElement("p",null),n.a.createElement("p",null,n.a.createElement(b,{piano:[["Barre utilizzate: ",337,"Scarto totale: ",1782.8000000000018,"Meno scarto possibile"],[60,"barre tagliate cos\xec: ",[199.2,199.2,50,199.2]," con scarto: ",2.400000000000091],[99,"barre tagliate cos\xec: ",[139.2,139.2,139.2,50,35.1,35.1,109.2]," con scarto: ",3],[1,"barre tagliate cos\xec: ",[119.2,119.2,139.2,35.1,109.2,35.1,89.2]," con scarto: ",3.799999999999841],[100,"barre tagliate cos\xec: ",[139.2,139.2,139.2,139.2,89.2]," con scarto: ",4],[56,"barre tagliate cos\xec: ",[119.2,119.2,119.2,109.2,89.2,89.2]," con scarto: ",4.7999999999999545],[20,"barre tagliate cos\xec: ",[119.2,119.2,119.2,89.2,89.2,89.2]," con scarto: ",24.799999999999955],[1,"barre tagliate cos\xec: ",[119.2,119.2,119.2,119.2]," con scarto: ",173.2],"(SOLUZ. TEMPORANEA) Infine taglia queste stecche dagli sfridi o da una nuova barra (se sono molte puoi calcolare un nuovo piano di taglio) :",[["-",1,"x",199.2],["-",3,"x",139.2],["-",3,"x",119.2]]],profilo:"AL/1",mode:"menoScarto"}))))):"sample4"===a&&u([[182,199.2],[699,139.2],[235,119.2],[156,109.2],[273,89.2]])}},n.a.createElement("select",{name:"debug",className:"input-reset ba b--black-20 pa2 mb2 db w-100"},n.a.createElement("option",{value:"none",selected:"selected"}),n.a.createElement("option",{value:"sample1"},"Sample 1"),n.a.createElement("option",{value:"sample2"},"Sample 2"),n.a.createElement("option",{value:"sample3"},"Stress test"),n.a.createElement("option",{value:"sample4"},"Sample 4"))),n.a.createElement("small",{id:"name-desc",class:"f6 db mb2"},"Aggiunge un ordine di esempio.")))),n.a.createElement("div",{className:"bg-gold pt2 fl w-100 w-100-ns w-100-m w-40-l pa3"},n.a.createElement("h1",{className:"pl2 pa1"},"PIANO"),n.a.createElement("p",{className:"pl2 tc"},n.a.createElement("input",{className:"input-reset bg-blue b white bw2 bb-black bt-0 bl-0 br-0 pa2 mb2 w-50 br3",type:"button",name:"creaPiano",onClick:function(){if(s.length>0){let t;"menoScarto"===A.mode?t="Meno scarto possibile":"menoBarre"===A.mode?t="Meno barre possibili":"acra"===A.mode&&(t="Calcolo barre per acra"),g([]);let l,n=0,r=[],o=[],c=[],i=0,m=0,u=[];function e(e,a,t=650){let l=a.reduce(function(e,a){return e+a},0)+A.larghezzaLama*a.length;return e<650-l&&(650-l-e>A.minSfrido||650-l-e<A.maxScarto)}let b=!0;function a(t){r=[];const i=[];t.forEach((e,a)=>i.push(e[1])),i.sort(function(e,a){return a[1]-e[1]}),function(a){let t=a[a.length-1];for(let e=0;e<a.length;e++)l=a[e],(o=[]).push(l),r.push(o);var l;let c=Math.round(650/(t+.5));if(b)for(let o=0;o<c;o++){let t=r.length;for(let l=0;l<t;l++){let t=650-r[l].reduce((e,a)=>e+a,0);for(let c=0;c<a.length;c++)if(e(a[c],r[l],t)&&(1e6===++n?b=!!window.confirm("Hai gi\xe0 raggiunto un milione di iterazioni. Probabilmente l'ordine \xe8 molto complesso o contiene almeno una misura molto piccola. Se pensi che il dispositivo su cui stai eseguendo il calcolo sia abbastanza potente, premi OK per continuare"):5e6===n&&(b=!!window.confirm("Ora sono cinque milioni di iterazioni. Probabilmente l'ordine \xe8 molto complesso o contiene almeno una misura molto piccola. Se pensi che il dispositivo su cui stai eseguendo il calcolo sia abbastanza potente, premi OK per continuare")),r[l].length>o)){let e=r[l].slice(0);e.push(a[c]),r.push(e)}}}}(i),b?(function(e,a){let t=0,l=!1,n=e[0].slice(0),r=[];for(let c=0;c<a.length;c++)r[c]=a[c].slice();let o,i=!1;for(;!i;){for(let e=0;e<n.length;e++)for(let a=0;a<r.length;a++)n[e]===r[a][1]&&(r[a][0]=r[a][0]-1,0===r[a][0]&&(console.log("Ho finito di tagliare la misura fittizia ",r[a][1]),i=!0,o=r[a][1]));t++}let s=!1;for(let c=0;c<r.length;c++)r[c][0]<0&&(s=!0,u.push(["-",Math.abs(r[c][0]),"x",r[c][1]]));if(s&&t--,s)for(let c=0;c<t;c++)for(let t=0;t<e[0].length;t++)for(let l=0;l<a.length;l++)e[0][t]===a[l][1]&&(a[l][0]=a[l][0]-1);else for(;!l;)for(let t=0;t<e[0].length;t++)for(let n=0;n<a.length;n++)e[0][t]===a[n][1]&&(a[n][0]=a[n][0]-1,0===a[n][0]&&(console.log("Ho finito di tagliare la misura ",a[n][1]),l=!0,a.splice(n,1)));for(let c=0;c<a.length;c++)a[c][1]===o&&a.splice(c,1);c.push([t,"barre tagliate cos\xec: ",e[0]," con scarto: ",e[1]])}(l=function(e){let a=[e[0]];for(let t=0;t<e.length;t++){let l=650-a[0].reduce(function(e,a){return e+a},0),n=650-e[t].reduce(function(e,a){return e+a},0);l>n&&(a=[e[t],n])}return a}(r),t),t.length>0&&a(t)):g([])}a(s),function(e){for(let a=0;a<e.length;a++)i+=e[a][0],m+=e[a][4]*e[a][0]}(c),c.unshift(["Barre utilizzate: ",i,"Scarto totale: ",m,t]),c.push("(SOLUZ. TEMPORANEA) Infine taglia queste stecche dagli sfridi o da una nuova barra (se sono molte puoi calcolare un nuovo piano di taglio) :",u),g(c),console.log(n)}},value:"CREA PIANO"})),n.a.createElement(b,{piano:d,profilo:N,mode:A.mode}),n.a.createElement("br",null),n.a.createElement("br",null),R))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(10);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},4:function(e,a,t){e.exports=t(11)},9:function(e,a,t){}},[[4,1,2]]]);
//# sourceMappingURL=main.b1c36e65.chunk.js.map